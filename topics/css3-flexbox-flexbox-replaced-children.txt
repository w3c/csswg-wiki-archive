====== Make Replaced Elements Always Be Flexbox Items ======

---- dataentry  ----
Spec_tags     : css3-flexbox
Owner_tags    : tabatkins
Status_tags   : Open, Urgent
Date_dt       : 2012-05-16
Action        : Pick proposal A or B
Issue_urls    : http://lists.w3.org/Archives/Public/www-style/2012May/0558.html
Proposal_urls : http://lists.w3.org/Archives/Public/www-style/2012May/0558.html
----

=== Background ===

The Flexbox spec declares any child of a flexbox that is a block or inline-block (more or less - I won't get into the details) to be a flexbox item, while inline elements instead get wrapped into an anonymous item.  Unfortunately, replaced elements are display:inline, and may not even be replaced at all in some circumstances (Firefox renders <img> as a non-replaced inline when the image fails to load).  However, we'd like layout to be consistent and based only on computed-time or earlier values.

=== Problem Statement ===

Flexbox items (and thus layout) depends on the computed value of 'display' and whether or not an element is replaced.  The latter can change based on used-value-time information, though.  We'd like to ensure that layout is doable using only computed-value-time information.

=== Proposal(s) ===

== Proposal A ==
Make the following elements always become flexbox items, regardless of 'display': <img>, <canvas>, <svg>, <math>, <audio>, <video>, <iframe>, <object>, <embed>, <input>, <button>, <select>, or <textarea>

== Proposal B ==

  - Introduce 'display: flex-item', which computes to 'inline' except on the child of a 'display: flex' element
  - Assign it to the elements listed above in ua.css.
  - Corollary proposal: make flex items return 'flex-item' as their computed 'display'.