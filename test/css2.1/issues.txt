======= Record of Known Bugs =======

This page records known problems in the [[test:css2.1|CSS 2.1 Conformance Test Suite]]. For problems with the harness, see [[harness]].

To record a bug, post to public-css-testsuite@w3.org explaining the problem. Then link to it from this wiki using the test name as the link text. Like this:

  * [[http://lists.w3.org/Archives/Public/public-css-testsuite/2007Jul/0011.html|t1202-counter-09-b]]

Put the test in the most severe group (earliest below) that applies.
===== Tests that are Wrong or have Parse Errors =====


==== 2 Incorrect RC6 testcases ====

  - [[http://test.csswg.org/suites/css2.1/20110323/html4/font-family-rule-002.htm|[RC6] font-family-rule-002]] Reasons why: [[http://lists.w3.org/Archives/Public/public-css-testsuite/2011Feb/0116.html]] It is *not* ok to have one letter "X"; there should be 2 small filled black squares vertically lined up. line-height should be specified in the testcase, preferably set to a value of 1.25 in the testcase.
  - [[http://test.csswg.org/suites/css2.1/20110323/html4/font-family-rule-003.htm|[RC6] font-family-rule-003]] Reasons why: [[http://lists.w3.org/Archives/Public/public-css-testsuite/2011Feb/0117.html]] ''font-family: Ahem!;'' is not a valid declaration. Therefore, an "X" must be rendered; an "X" being rendered is not optional or a 'may'. Pass conditions should be updated accordingly.


==== Tests relying on non-normative behavior ====

  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|font-matching-rule-008]]</del> - fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0075.html|content-158]]</del> - fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0075.html|content-159]]</del> - fixed for RC4
  * <del>Various [min-|max-|]height-applies-to- tests **[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Nov/0060.html|listed here]]** : height, max-height, min-height supposed to be undefined for table row groups; max-height and min-height should not apply to table-row elements and table-cell elements</del> - Some fixed in RC4 remaining fixes in RC5
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0382.html|content-counter-010]]</del> - Fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0382.html|content-counters-010]]</del> - Fixed for RC4
  * <del>Multiple [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0040.html|counter-increment-* and counter-reset-*]] tests</del> - Fixed for RC5
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Jan/0017.html|font-weight-003]]</del> - Fixed for RC4

==== Miscellaneous incorrect tests ====

  * [[http://test.csswg.org/suites/css2.1/20110323/html4/c414-flt-ln-000.htm|[RC6] c414-flt-ln-000]] , [[http://test.csswg.org/suites/css2.1/20110323/html4/c414-flt-ln-001.htm|[RC6] c414-flt-ln-001]] and [[http://test.csswg.org/suites/css2.1/20110323/html4/c414-flt-ln-003.htm|[RC6] c414-flt-ln-003]] should have their borders removed. **Reason why**: [[http://lists.w3.org/Archives/Public/public-css-testsuite/2011Jan/0020.html|http://lists.w3.org/Archives/Public/public-css-testsuite/2011Jan/0020.html]]
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0079.html|content-160]]</del> - fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0079.html|border-conflict-style-074]]</del> - fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0139.html|c5504-mrgn-l-002]]</del> - fixed for RC5
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Nov/0119.html|background-intrinsic-004]]</del> - Fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Nov/0120.html|background-intrinsic-005]]</del> - Fixed for RC4


==== 0 RC4 testcase with incorrect pass condition / dependence on font metrics ====



==== 1 RC6 testcase not actually testing what they are supposed to test or that are too easy to pass ====

  - [[http://test.csswg.org/suites/css2.1/20110323/html4/containing-block-017.htm|containing-block-017]] Reasons why: [[http://lists.w3.org/Archives/Public/public-css-testsuite/2011Jan/0063.html]] What do do? title and text assert should be adjusted to pinpoint section 10.1, bullet 4, sub-bullet 1 and not sub-bullet 2 (since ancestor is an inline box, not a block).



===== Tests that need Usability improvements =====

Ugly, not self-documenting:
  background-alpha-001
  background-alpha-002
  background-alpha-003
  background-alpha-004
  background-alpha-005

==== Confusing/hard to judge ====

  * background-attachment-004 (also has external references to image files)
  * <del>c525-font-wt-000: does not state whether "This sentence should be very light" should be visibly lighter than normal</del> - Fixed for RC4
  * <del>inlines-004-inlines-006: unclear what "aligned" means.</del> Fixed for RC4
  * <del>margin-collapse-160: should say that the first page is blank and 3 pages are expected (if, indeed, that is the intent).</del> - Fixed for RC4
  * <del>text-transform-bicameral-009, text-transform-bicameral-010: should attempt to pick a font that has the glyphs</del> - Uses the browser's default, which should be falling back to whatever it can find.
  * <del>fixed-table-layout-006: "all the blue lines" is confusing. They are all shades of blue.</del> - fixed for RC4
  * <del>[[http://test.csswg.org/suites/css2.1/20101027/html4/c533-bgimage-000.htm|c533-bgimage-000]] and [[http://test.csswg.org/suites/css2.1/20101027/html4/c533-bgimage-001.htm|c533-bgimage-001]] have the same pass condition but with clearly conflicting rendering.</del> - Fixed for RC5
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|quotes-035]]</del> - Fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|quotes-036]]</del> - Fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|c44-ln-box-003]]</del> - Fixed for RC4
  * [[http://test.csswg.org/suites/css2.1/20110323/html4/max-height-080.htm|[RC6] max-height-080]] the testcase, as coded and as built, can not fail. height and max-height even have the same value
  * [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|[RC6] background-130]] - still not fixed in RC6: "on top of" should be replaced with "above"; "stripe" seems preferable to "short box"
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|outline-003]]</del> - fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|empty-cells-applies-to-001]]</del> - fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|table-background-edge-and-border-model-002]]</del> - fixed for RC4
  * <del>[[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0020.html|text-align-applies-to-001]]</del> - fixed for RC4
  * [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0060.html|list-style-position-017]]
  * [[http://test.csswg.org/suites/css2.1/20101210/html4/floats-110.htm|[RC6] floats-110]] **Reasons why**: [[http://lists.w3.org/Archives/Public/public-css-testsuite/2011Jan/0029.html|http://lists.w3.org/Archives/Public/public-css-testsuite/2011Jan/0029.html]]



==== 7 RC3 testcases with too technical pass conditions ====

  - [[http://test.csswg.org/suites/css2.1/20101027/html4/inline-table-width-001a.htm|inline-table-width-001a]] My neighbour would ask "What's 10em and how wide is it exactly?"
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/table-percent-width-001.htm|table-percent-width-001]] My neighbour would ask "What's a 100px by 100px green square?"
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/background-alpha-001.htm|background-alpha-001]] My neighbour would ask "What's a 'multi-bit alpha channel'?" Pass conditions are not so clear and text is too technical.
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/background-alpha-002.htm|background-alpha-002]] My neighbour would ask "What's a 'multi-bit alpha channel'?" Pass conditions are not so clear and text is too technical.
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/background-alpha-003.htm|background-alpha-003]] My neighbour would ask "What's a square div? How tall/big is/should be the 'size of two tiles'?" Pass conditions are not clear or easy for normal people and text is too technical.
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/cursor-applies-to-005.htm|cursor-applies-to-005]] My neighbour would ask "What's a default cursor? How does it look like?" I propose to add to the expected results: "The default cursor often looks like an arrow."
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/cursor-applies-to-006.htm|cursor-applies-to-006]] My neighbour would ask "What's a default cursor? How does it look like?" I propose to add to the expected results: "The default cursor often looks like an arrow."


==== 10 RC3 Font related testcases which need pixel reference lines or need to be reworked or redesigned ====

  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-000.htm|c527-font-000]] : "There should be a small gap between each line." **Reason**: how small is "a small gap"? How can a normal tester (your mother, your bus driver, your neighbour) realistically establish that this gap here is small while that gap over there is not small? How exactly can this test fail?
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-002.htm|c527-font-002]] : "9px gap between lines" **Reason**: how can a normal tester (your mother, your bus driver, your neighbour) realistically establish that this gap here is 9px while that gap over there is not 9px? The testcase does not provide a ruler, some kind of green overlapping red mechanism, etc. Where is the start line and the end line?
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-003.htm|c527-font-003]] : "small and cursive, with double line spacing" **Reason**: it is not clear how such test can be evaluated as pass or fail, even by a machine.
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-004.htm|c527-font-004]]
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-005.htm|c527-font-005]]
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-006.htm|c527-font-006]]
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-007.htm|c527-font-007]]
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-008.htm|c527-font-008]]
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-009.htm|c527-font-009]]
  - [[http://test.csswg.org/suites/css2.1/20101027/html4/c527-font-10.htm|c527-font-10]] : **Reasons**: All these testcases rely on the tester being able to measure a distance of a few pixels between lines, or the font-size, without a comparing ruler, without a reliable working measurement system or some kind of overlapping color mechanism.

 More explanations on why these c527-font-* testcases need to be reworked or redesigned to be easier for normal tester-persons to evaluate: [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Jan/0043.html|http://lists.w3.org/Archives/Public/public-css-testsuite/2010Jan/0043.html]] , [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Aug/0000.html|http://lists.w3.org/Archives/Public/public-css-testsuite/2010Aug/0000.html]] , [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0061.html|http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0061.html]]


==== Should be ref tests ====
  c5526c-display-000

==== 1 RC6 testcase creating unneedlessly and unexpectedly an horizontal scrollbar ====

  - [[http://test.csswg.org/suites/css2.1/20110323/html4/vertical-align-121.htm|[RC6] vertical-align-121]] Removing ''<p class="ahemprereq">'' whole paragraph is likely going to remove the unneeded and unexpected horizontal scrollbar at the same time.

==== 0 RC6 testcase without pass conditions ====


==== 0 RC4 testcase that rely on unnecessary assumptions ====

===== Tests that have HTML or CSS Validation errors =====

==== 5 RC4 testcases that have HTML Validation errors ====

  - [[http://test.csswg.org/suites/css2.1/20101210/html4/before-after-dynamic-attr-001.htm|before-after-dynamic-attr-001]] The html element can not have a class: class="reftest-wait"; body element can not be empty.
  - [[http://test.csswg.org/suites/css2.1/20101210/html4/before-after-dynamic-restyle-001.htm|before-after-dynamic-restyle-001]] The html element can not have a class: class="reftest-wait"; body element can not be empty.
  - [[http://test.csswg.org/suites/css2.1/20101210/html4/block-in-inline-insert-010.htm|block-in-inline-insert-010]]
  - [[http://test.csswg.org/suites/css2.1/20101210/html4/block-in-inline-insert-013.htm|block-in-inline-insert-013]]
  - [[http://test.csswg.org/suites/css2.1/20101210/html4/before-after-table-parts-001.htm|before-after-table-parts-001]] It has CSS validation issues too; explanations: [[http://lists.w3.org/Archives/Public/public-css-testsuite/2011Jan/0011.html|http://lists.w3.org/Archives/Public/public-css-testsuite/2011Jan/0011.html]]

==== 2 RC6 testcases that have CSS Validation errors ====

  - [[http://test.csswg.org/suites/css2.1/20110323/html4/z-index-020.htm|[RC6] z-index-020]] ; [[http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Ftest.csswg.org%2Fsuites%2Fcss2.1%2F20110323%2Fhtml4%2Fz-index-020.htm&profile=css21&usermedium=all&warning=2&lang=en|CSS Validation report]]
  - [[http://test.csswg.org/suites/css2.1/20110323/html4/font-systemfont-rule-003.htm|[RC6] font-systemfont-rule-003]] ; [[http://jigsaw.w3.org/css-validator/validator?uri=http%3A%2F%2Ftest.csswg.org%2Fsuites%2Fcss2.1%2F20110323%2Fhtml4%2Ffont-systemfont-rule-003.htm&profile=css21&usermedium=all&warning=2&lang=en|CSS Validation report]] : font shorthand requires font-size and font-family. [[http://lists.w3.org/Archives/Public/public-css-testsuite/2011Mar/0038.html|More info]]

===== Tests that need Metadata improvements =====

==== 1 testcase with wrong, incorrect meta assert text ====

  - [[http://test.csswg.org/suites/css2.1/20101210/html4/position-relative-nested-001.htm
|position-relative-nested-001]] Reasons why given in [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0020.html|http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0020.html]]

==== 0 RC6 testcase possibly missing http flag ====



==== 1 RC6 testcase missing the ahem flag ====

  - [[http://test.csswg.org/suites/css2.1/20110323/html4/vertical-align-121.htm|[RC6] vertical-align-121]] The ''<p class="ahemprereq">'' should also be removed.

==== 2 RC6 testcases missing the invalid flag ====

  - [[http://test.csswg.org/suites/css2.1/20110323/html4/c526-font-sz-003.htm|[RC6] c526-font-sz-003]] font-size: -0.5in; will be parsed and reported as an illegal value.
  - [[http://test.csswg.org/suites/css2.1/20110323/html4/font-size-rule-001.htm|[RC6] font-size-rule-001]]

==== 1 RC6 testcase missing the interact flag ====

  - [[http://test.csswg.org/suites/css2.1/20110323/html4/floats-110.htm|[RC6] floats-110]] since resizing the viewport is part of the test pass/fail condition

==== 0 RC6 testcase missing the dom flag ====


==== 2 RC4 testcases with some coding issues ====

  - [[http://test.csswg.org/suites/css2.1/20101210/html4/abspos-paged-001.htm|abspos-paged-001]] style block should explicitly declare ''media="print"'' [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0063.html|More info]]
  - [[http://test.csswg.org/suites/css2.1/20101210/html4/abspos-paged-002.htm|abspos-paged-002]] style block should explicitly declare ''media="print"'' [[http://lists.w3.org/Archives/Public/public-css-testsuite/2010Oct/0063.html|More info]]


==== 6 RC4 testcases using, relying on CSS3 grammar or CSS3 properties ====

  - <del>[[http://test.csswg.org/suites/css2.1/20101210/html4/page-break-after-010.htm|page-break-after-010]] relies on CSS3 at-keywords for paged media</del> - CSS3 bits not part of tests, so ok
  - <del>[[http://test.csswg.org/suites/css2.1/20101210/html4/page-break-before-003.htm|page-break-before-003]] relies on CSS3 at-keywords for paged media</del> - CSS3 bits not part of tests, so ok
  - <del>[[http://test.csswg.org/suites/css2.1/20101210/html4/page-break-before-005.htm|page-break-before-005]] relies on CSS3 at-keywords for paged media</del> - CSS3 bits not part of tests, so ok
  - <del>[[http://test.csswg.org/suites/css2.1/20101210/html4/allowed-page-breaks-001c.htm|allowed-page-breaks-001c]] relies on CSS3 at-keywords for paged media</del> - fixed for RC5
  - <del>[[http://test.csswg.org/suites/css2.1/20101210/html4/allowed-page-breaks-003.htm|allowed-page-breaks-003]] relies on CSS3 at-keywords for paged media</del> - fixed for RC5
  - <del>[[http://test.csswg.org/suites/css2.1/20101210/html4/allowed-page-breaks-004.htm|allowed-page-breaks-004]] relies on CSS3 at-keywords for paged media</del> - fixed for RC5

==== 0 RC6 testcase with wrong meta flag ====


==== 0 RC6 test with missing title ====

==== 2 RC4 testcases which could render a missing image icon as acceptable handling of url(missing-image.png) ====

CSS 2.1 spec says:
"User agents may vary in how they handle invalid URIs or URIs that
designate unavailable or inapplicable resources."

coming from [[http://www.w3.org/TR/CSS21/syndata.html#value-def-uri|CSS 2.1, section 4.3.4 URLs and URIs
]]

and

"The value is a URI that designates an external resource (such as an
image). If the user agent cannot display the resource it must either
leave it out as if it were not specified or display some indication that
the resource cannot be displayed."

coming from [[http://www.w3.org/TR/CSS21/generate.html#content|CSS 2.1, section 12.2 The 'content' property]]

So, **a missing image icon is an acceptable, reasonable indication that the resource cannot be displayed**.

  - [[http://test.csswg.org/suites/css2.1/20101210/html4/before-after-table-whitespace-001.htm|before-after-table-whitespace-001]]
  - [[http://test.csswg.org/suites/css2.1/20101210/html4/before-after-images-001.htm|before-after-images-001]]

==== RC5 test cases with font rounding issues ====
  - [[http://test.csswg.org/suites/css2.1/20110111/html4/orphans-001.htm|orphans-001]]
  - orphans-00*
  - widows-00*
  - Also any "paged" test cases

===== General Issues =====
  * http://lists.w3.org/Archives/Public/public-css-testsuite/2007Jul/0011.html
  * Some tests are assuming the system has access to glyphs for non-Latin fonts. If this isn't the case, the test could pass without actually testing anything.
