====== Page View ======
"Page view" or "paged view" as a term relates broadly to the kind of presentation where content is laid out in discreet pages and shown to user one page at a time (or several pages at a time). 

Wide variety of paged view situations require same or similar support from core layout engine -- primarily the ability to flow content into multiple containers, thus producing multiple boxes with fragments of content (see "[[Fragments, Columns, Regions, Pages]]"). Solutions differ in how the fragmentation functionality is invoked.

The problems to be solved in implementing paged views revolve around encoding the design intent and UI behavior, both requiring novel approaches: design intent often derives from experience in print media, which must become adaptive to target multiple devices and resolutions; UI of navigating pages on screen also doesn’t have established tradition, although many implementations use similar concepts.

This set of use cases shows some expected uses of paged views.

Uses cases, analysis and proposals found here probably don’t correspond to a single specification. The goal here is to get a holistic view of each case, which will help to compare proposals and understand relative importance of lower level problems.

====== Use Cases ======

===== paged view for window or element =====

**Goal:** easly declarative way to create paged view, good behavior with default settings and default UI.

<html>
<div style="display:inline-block; width:9em;">

<div style="background:gray; --padding:1em; text-align:justify; vertical-align:middle;">
  <div style="background:white;border:1px solid black; --width:7em; padding:1em; text-align:justify">
    <div>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</div>
  </div>
  <div style="text-align:justify; padding:0 1em;">
    <div style="display:inline-block; color:lightgray; font-size:1.2em;">&lt;&lt;&lt;</div>
    <div style="display:inline-block; color:lightgray; font-size:1.2em;">&gt;&gt;&gt;</div>
    <div style="display:inline-block; width:6em; height:0; visibility:hidden"></div>
  </div>
</div>
</div>
</html>

**Proposal:**
  * New value for 'overflow property: **"overflow:paged"**

**Example:**
  div.book { overflow:paged }
Element with "overflow:paged" shows one page of content at a time. 

All pages are of the same size - the size of content area of the element.

UI is provided by UA, it may be jestures on touch device, or page navigation controls (perhaps similar to controls on <video> element)

**Example:**
  html { width:100%; height:100%; overflow:paged }
This should put the whole document in paged view. If UA is also in full screen mode, this works particularly well on tablet devices as full-screen reading mode

**Example:**
  iframe.magazine { overflow:paged }
Presents content of a separate document in paged view. Can be used to build a page viewer with custom UI.

**Issues:** 
  * May need additional layout options or constraints
    * Page size
    * Min/max number of pages (maybe)
  * Possible page presentation options
    * Facing pages?
    * Direction of flipping pages?
  * Add a way to customize pages (page numbers, headers, footers)?
  * Dealing variable-sized pages is not yet defined and may be limited in this simple case

===== paged view with custom controls =====

**Goal:** Add custom controls to paged view.

Ideally, UA should provide well designed, usable and accessible controls for pagination. There will inevitably be situations however that require custom UI, for style or to provide unique functions. It could look like this:

<html>
<div style="display:inline-block">
<div style="height:2em; background:black; padding:0.5em 1em; font-family:sans-serif; font-weight:bold; text-align:center;">
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">print</div>
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">share</div>
  &nbsp;&nbsp;
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">&lt;</div>
  <div style="display:inline-block; border:1px solid white; background:white; padding:0.25em; font-weight:normal">page #</div>
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">&gt;</div>
  &nbsp;&nbsp;
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">zoom</div>
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">bookmark</div>
  &nbsp;&nbsp;
  <div style="display:inline-block; border:1px solid white; background:white; padding:0.25em 5em 0.25em 0.25em ; font-weight:normal">&nbsp;</div>
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">search</div>
</div>

<div style="background:gray; padding:1em; text-align:center;">
    <div style="display:inline-block;background:white;border:1px solid black; width:7em; padding:1em; text-align:justify">
      Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</div>
</div>
</div>
</html>


Custom controls will activate custom script, which in some cases will need to access pagination results or show a particular page.

Implementation of custom page UI needs some or all of the following:
  * Disable or extend the default pagination UI
  * Know number of pages
  * Know if everything fits (in automatic page layout, there will be alwayse enough pages generated, but there may be unprocessed content due to timing or additional constraints)
  * Show a particular page
  * Determine what content is in a given page (a potentially disjoint range of content)
  * Determine on what page or pages a given range of content is
  * Determine if content of interest didn't fit on any page
  * Find content that intersects with a point or shape, relative to a given page or current page
  * Find exact coordinates and page(s) of laid out content
  * Know when number of pages changes or layout of content on a page changes

**Proposal:**

Paged layout need to be exposed in OM, similar to how scrolling is exposed via scrollTop/scrollHeight

**Example:**

===== paged view with custom pages =====

**Goal:** Apply content formatting to specific pages and position pages on screen

<html>
<div style="display:inline-block">
<div style="height:2em; background:black; padding:0.5em 1em; font-family:sans-serif; font-weight:bold; text-align:center;">
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">print</div>
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">share</div>
  &nbsp;&nbsp;
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">&lt;</div>
  <div style="display:inline-block; border:1px solid white; background:white; padding:0.25em; font-weight:normal">page #</div>
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">&gt;</div>
  &nbsp;&nbsp;
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">zoom</div>
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">bookmark</div>
  &nbsp;&nbsp;
  <div style="display:inline-block; border:1px solid white; background:white; padding:0.25em 5em 0.25em 0.25em ; font-weight:normal">&nbsp;</div>
  <div style="display:inline-block; border:1px solid white; color:white; padding:0.25em">search</div>
</div>

<div style="background:gray; padding:1em; text-align:center;">
    <div style="display:inline-block;background:white;border:1px solid black; margin:0.5em">
    <div style="width:6.5em; height:9em; margin:1em; overflow:hidden; text-align:justify; color:green;">
      Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Maecenas porttitor congue massa. Fusce     </div>
    </div>

    <div style="display:inline-block;background:white;border:1px solid black; margin:0.5em">
    <div style="width:6.5em; height:9em; margin:1em; overflow:hidden; text-align:justify; color:blue;">
posuere, magna sed pulvinar ultricies, purus lectus malesuada libero, sit amet commodo magna eros quis urna.
    </div>
    </div>
</div>
</div>
</html>
  * left page has green text, right page has blue text
  * even and odd pages are positioned differently to create a two-page view

**Option 1:** page selectors

**Option 2:** page OM


===== Magazine pages with regions =====

**Goal:** enable complex page design, with multiple content flows and graphics

<html>
<div class="desktop" style="display:inline-block; background:gray; vertical-align:text-top;">
  <div id="page1" class="pageFrame" style="float:left; background:white; border:1px solid black; margin:1em; width:17em; height:22em;">
    <div class="pageContent" style="margin:0.25em; width:16.5em; height:21.5em; position:relative;">
      <div class="titleImg" style="background:salmon; width:66%; height:50%; margin: -0.25em -0.25em 0 0; float:right;"></div>
      <div class="mainStory">
        <div class="head" style="width:60%; margin-right:-50%; float:left; border-bottom:0.2em solid silver">
          <h1 class="title" style="margin:0">Best Food in Seattle</h1>
          <div class="abstract" style="font-size:66%; font-style:italic;">Newest reviews from our food and coffee snobs</div>
        </div>
        <div style="margin-right:20%; padding-right:1ex; height:9em; text-align:justify; clear:left; ">
          Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Maecenas porttitor congue massa. 
          Fusce posuere, magna sed pulvinar ultricies, purus lectus malesuada libero, sit amet 
          <div class="img" style="background:lightblue; width:6em; height:4em; margin:0 0.25em 0 -0.25em; float:left;"></div>  
          commodo magna eros quis urna.
          Nunc viverra imperdiet enim. Fusce est. 
        </div> 
      </div>
      <div style="width:20%; height:66%; background:wheat; position:absolute; right:0; bottom:0; font-size:66%; padding:1ex"><h2 style="margin:0">Sushi</h2>
        <div>Lorem ipsum dolor sit amet, con&shy;sec&shy;te&shy;tu&shy;er adi&shy;pis&shy;cing elit. Mae&shy;ce&shy;nas port&shy;ti&shy;tor congue massa
        Fusce posuere, magna sed pulvinar ultricies, purus lectus malesuada 

        </div>
        <div class="continuedTo" style="font-style:italic; position:absolute; right:0; bottom:0;">to page 3...</div>
      </div>
    </div>
  </div>

  <div id="page2" class="pageFrame" style="float:left; background:white; border:1px solid black; margin:1em; width:17em; height:22em;">
    <div class="pageContent" style="margin:0.25em; width:16.5em; height:21.5em; position:relative;">
      <div class="imgA" style="background:lightgreen; width:5em; height:22em; float:right; margin:-0.25em -0.25em 0 -3em;"></div>
      <div class="mainStory" style="float:left; width:5em; height:21.5em; margin-right:1em; overflow:hidden;">
          Vivamus a tellus.
          Pellentesque habitant morbi 
          tristique senectus et netus et malesuada fames ac turpis egestas. Proin pharetra nonummy pede. Mauris et orci.
      </div>
      <div class="mainStory" style="float:left; width:5em; height:21.5em; overflow:hidden;">
          Aenean nec lorem. In porttitor. Donec laoreet 
          nonummy augue.
          Suspendisse dui purus, scelerisque at, vulputate vitae, pretium mattis, nunc. Mauris eget neque at sem 
      </div>
    </div>
  </div>

  <div id="page3" class="pageFrame" style="float:left; background:white; border:1px solid black; margin:1em; width:17em; height:22em;">
    <div class="pageContent" style="margin:0.25em; width:16.5em; height:21.5em; position:relative;">
      <div class="imgC" style="background:mediumaquamarine; width:12em; height:4em; position:absolute; left:-0.25em;; bottom:-0.25em;"></div>
      <div class="mainStory" style="float:left; width:5em; height:17.5em; margin-right:1em; overflow:hidden;">
          <div class="img" style="background:seagreen; width:5em; height:3em; float:left;"></div>  
          venenatis eleifend. Ut nonummy.
        	Lorem ipsum dolor sit amet, 
        	consectetuer adipiscing elit. Maecenas 
          Vivamus a tellus.
      </div>
      <div class="mainStory" style="float:left; width:5em; height:17.5em; overflow:hidden;">
          Pellentesque habitant morbi 
          tristique senectus et netus et malesuada 
          fames ac turpis egestas. 
          <div class="img" style="background:seagreen; width:3em; height:3em; float:left;"></div>  
          Proin pharetra.
          </div>
      <div style="width:7em; background:wheat; position:absolute; padding:1ex; right:0; top:0; bottom:0; font-size:66%; overflow:hidden;">
        <h2 style="margin:0">Sushi</h2>
        <div class="continuedFrom" style="font-style:italic; ">....from page 1</div>
        <div>libero, sit amet commodo magna eros quis urna.
            Nunc viverra imperdiet enim. Fusce est. Vivamus a tellus.
            Pellentesque habitant morbi tristique senectus et netus et malesuada fames ac turpis egestas. Proin pharetra nonummy pede. Mauris et orci.
          nonummy augue.
          Suspendisse dui purus, scelerisque at, vulputate vitae, pretium mattis, nunc. Mauris eget neque at sem venenatis.
      
  </div>
</div>
</html>

**Proposals:**
  * css3-regions module
  * Page view, UI, page generation is done in script  

**Issues:** 
  * No declarative way to generated additional regions or pages is yet defined


===== Adapt
ive magazine pages with templates =====

**Goal:** automatically generate complex pages based on content, encoded design intent and media properties

**Proposals:**
  * Need a proposal. 
  * [[http://epub-revision.googlecode.com/svn-history/r3025/trunk/src/proposals/css_page_templates/csspgt-doc.xhtml | IDPF Page Templates Proposal]] has a range of ideas, to converge with what is developing in recent discussions.
  
**Issues:** 

===== Column breaks and page breaks =====

**Goal:** provide a way to control layout in columns and pages, when columns, pages or both are parts of a template-based paged view

**Issues:** 

====== Issues ======
Further issues (not addressed in use cases):
  * Paged view doesn't automatically mean "paged media" (which is commonly used as "for printing" and can't be repurposed). Should there be a way to declare that a paginating viewer (e.g. iframe) needs to render the same visuals as what would be printed?
  * Media queries for paged view/columns/regions?