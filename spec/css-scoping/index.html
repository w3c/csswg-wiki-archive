<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Scoped Names Interop - CSS Working Group Wiki (Archive)</title>
<style>
*, *::before, *::after { box-sizing: border-box; }
body {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
  max-width: 900px; margin: 0 auto; padding: 1.5em 1em; line-height: 1.6;
  color: #1f2328; background: #fff;
}
.archive-banner {
  background: #fff8c5; border: 1px solid #d4a72c; border-radius: 6px;
  padding: 0.75em 1em; margin-bottom: 1.5em; font-size: 0.9em;
}
.archive-banner strong { color: #6e5600; }
header { border-bottom: 1px solid #d1d5db; padding-bottom: 1em; margin-bottom: 1.5em; }
header h1 { margin: 0; font-size: 1.25em; }
header h1 a { color: #0366d6; text-decoration: none; }
header h1 a:hover { text-decoration: underline; }
nav { margin-top: 0.5em; font-size: 0.9em; }
nav a { color: #656d76; text-decoration: none; margin-right: 1em; }
nav a:hover { color: #0366d6; }
h1, h2, h3, h4 { color: #1f2328; margin-top: 1.5em; }
h1:first-child { margin-top: 0; }
a { color: #0366d6; }
code { background: #f6f8fa; padding: 0.15em 0.3em; border-radius: 3px; font-size: 0.9em; }
pre { background: #f6f8fa; padding: 1em; overflow: auto; border-radius: 6px; }
pre code { background: none; padding: 0; }
table { border-collapse: collapse; margin: 1em 0; }
th, td { border: 1px solid #d1d5db; padding: 0.4em 0.8em; }
th { background: #f6f8fa; }
img { max-width: 100%; }
.breadcrumb { font-size: 0.85em; color: #656d76; margin-bottom: 1em; }
.breadcrumb a { color: #656d76; }
ul, ol { padding-left: 1.5em; }
li { margin: 0.25em 0; }
.plugin_note { background: #f0f4f8; border-left: 4px solid #0366d6; padding: 0.75em 1em; margin: 1em 0; border-radius: 3px; }
abbr { text-decoration: underline dotted; cursor: help; }
@media (prefers-color-scheme: dark) {
  body { background: #0d1117; color: #e6edf3; }
  .archive-banner { background: #3d2e00; border-color: #6e5600; }
  .archive-banner strong { color: #f0c000; }
  header { border-bottom-color: #30363d; }
  header h1 a { color: #58a6ff; }
  nav a { color: #8b949e; }
  nav a:hover { color: #58a6ff; }
  h1, h2, h3, h4 { color: #e6edf3; }
  a { color: #58a6ff; }
  code, pre { background: #161b22; }
  th, td { border-color: #30363d; }
  th { background: #161b22; }
  .breadcrumb, .breadcrumb a { color: #8b949e; }
  .plugin_note { background: #161b22; border-color: #58a6ff; }
}
</style>
</head>
<body>
<div class="archive-banner">
<strong>Archive Notice:</strong> This is a read-only archive of the CSS Working Group Wiki.
The original wiki was hosted at wiki.csswg.org.
</div>
<header>
<h1><a href="/">CSS Working Group Wiki</a></h1>
<nav>
<a href="/">Home</a>
<a href="/spec/">Specs</a>
<a href="/ideas/">Ideas</a>
<a href="/test/">Testing</a>
<a href="/wiki/">About</a>
</nav>
</header>
<div class="breadcrumb"><a href="/">Home</a> / <a href="/spec/">spec</a> / css-scoping</div>
<main>
<h1 id="scoped-names-interop">Scoped Names Interop</h1>
<p>
In &lt;<a href="https://drafts.csswg.org/css-scoping/#shadow-names" title="https://drafts.csswg.org/css-scoping/#shadow-names" rel="noopener">https://drafts.csswg.org/css-scoping/#shadow-names</a>&gt; a reasonable behavior for name-defining constructs (such as @font-face or @counter-style) in shadow trees is defined. However, browsers currently have a confusing panoply of behaviors, likely mostly accidental. Here we collect the current behaviors, to help inform our adoption of the specified behavior and find whether there are any compat issues we&#039;ll have to deal with.
</p>
<div class="table sectionedit2"><table class="inline">
	<thead>
	<tr class="row0">
		<td class="col0"> </td><th class="col1"> Firefox </th><th class="col2"> Chrome </th><th class="col3"> Safari </th>
	</tr>
	</thead>
	<tr class="row1">
		<th class="col0"> @font-face </th><td class="col1"> Doesn&#039;t work </td><td class="col2"> @-rules in shadow trees are ignored. @-rules in document scope match from all scopes </td><td class="col3"> </td>
	</tr>
	<tr class="row2">
		<th class="col0"> @font-feature-values </th><td class="col1"> Doesn&#039;t work </td><td class="col2"> Not implemented </td><td class="col3"> </td>
	</tr>
	<tr class="row3">
		<th class="col0"> @font-palette-values </th><td class="col1"> Not Yet Implemented </td><td class="col2"> Not implemented </td><td class="col3"> </td>
	</tr>
	<tr class="row4">
		<th class="col0"> @counter-style </th><td class="col1"> Doesn&#039;t work </td><td class="col2"> </td><td class="col3"> </td>
	</tr>
	<tr class="row5">
		<th class="col0"> @keyframes </th><td class="col1"> Code lives in &lt;<a href="https://searchfox.org/mozilla-central/rev/1df3b4b4d27d413675fb66f375230cb25d636450/servo/components/style/stylist.rs#1346" title="https://searchfox.org/mozilla-central/rev/1df3b4b4d27d413675fb66f375230cb25d636450/servo/components/style/stylist.rs#1346" rel="noopener">https://searchfox.org/mozilla-central/rev/1df3b4b4d27d413675fb66f375230cb25d636450/servo/components/style/stylist.rs#1346</a>&gt;. We try to look animations up in the element&#039;s shadow first (this is necessary for :host { animation: .. }), then on the containing scope, if any, and otherwise on the global scope. </td><td class="col2"> First looks up element&#039;s shadow (for :host) and then the element&#039;s scope. Does not fall back to document. Does not work for slotted. </td><td class="col3"> </td>
	</tr>
</table></div>
</main>
</body>
</html>
