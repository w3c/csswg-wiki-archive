====== Fragments, Columns, Regions, Pages ======
//Notes and examples in support of discussion on Regions//

===== Layout Engine with Fragmentation =====
Implementations of regions, columns and paginations will vary but in most general situation it is reasonable to assume that there is a layout engine that takes formatted content in DOM as input and fills one or more container with that content:

<html>

<div class="figure" style="border:thin solid silver; width:35em; margin:auto; padding:1em;">
    <div class="legend" style="font-style:italic">Content</div>
    <div class="" style="background:silver">. . . Lorem ipsum dolor sit amet, consectetur . . . </div>

    <div style="margin:1em"></div>
    
    <div class="centerbox" style="width:10em;margin:auto;border:1px solid black;padding:0.5em;text-align:center;">
        Layout engine
    </div>

    <div style="margin:0.5em"></div>
    	
    <div class="legend" style="font-style:italic">Containers</div>
    <div style="text-align:center">
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        </div>
    </div>
</div>
</html>

That's what all layout engines do, the most common cases being 
  * Layout for screen

<html>
<div class="figure" style="border:thin solid silver; width:35em; margin:auto; padding:1em; font-size:66%; -float:right; clear:right;">
    <div class="legend" style="font-style:italic">Content</div>
    <div class="" style="background:silver">. . . Lorem ipsum dolor sit amet, consectetur . . . </div>

    <div style="margin:1em"></div>
    	
    <div class="centerbox" style="width:10em;margin:auto;border:1px solid black;padding:0.5em;text-align:center;">
        Layout engine
    </div>

    <div style="margin:0.5em"></div>
    	
    <div class="legend" style="font-style:italic">Containers</div>
    <div style="text-align:center">
        <div class="box" style="display:block;margin:0.5em;border:1px dashed black;padding:0.5em; border-bottom-style:none;height:3em;">
        </div>
    </div>
</div>
</html>

(there is only one container, usually with auto height) and 
  * printing

<html>
<div class="figure" style="border:thin solid silver; width:35em; margin:auto; padding:1em; font-size:66%; -float:right; clear:right;">
    <div class="legend" style="font-style:italic">Content</div>
    <div class="" style="background:silver">. . . Lorem ipsum dolor sit amet, consectetur . . . </div>

    <div style="margin:1em"></div>
    	
    <div class="centerbox" style="width:10em;margin:auto;border:1px solid black;padding:0.5em;text-align:center;">
        Layout engine
    </div>

    <div style="margin:0.5em"></div>
    	
    <div class="legend" style="font-style:italic">Containers</div>
    <div style="text-align:center">
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
    </div>
</div>
</html>

(a sequence of containers, usually all of the  same size)

This doesn't yet show what layout engine do, it just shows some possible situations. It could be noted that if containers exist before layout engine has done any work, we must be assuming that containers are exernal to layout engine. That is not necessarily so, we are just trying to keep these general illustrations simple.


===== TODO =====

===== Fragmentation and generating containers =====

When layout engine does its work, it outputs pieces of content that are laid out to fit into given containers. Let's call them "fragments":

<html>
<div class="figure" style="border:thin solid silver; width:35em; margin:auto; padding:1em;">
    <div class="legend" style="font-style:italic">Content</div>
    <div class="" style="background:silver">. . . Lorem ipsum dolor sit amet, consectetur . . . </div>
    	
    <div class="down-arrow" style="width:2em;margin:0.5em auto;">
    <div style="width:1em; height:1.5em; margin:auto; background:lightgray;"></div>
    <div style="width:0; height:0; border-width:1em 1em 0; border-style:solid; border-color:lightgray transparent;"></div>
    </div>
    
    <div class="centerbox" style="width:10em;margin:auto;border:1px solid black;padding:0.5em;text-align:center;">
        Layout engine
    </div>
    	
    <div class="down-arrow" style="width:2em;margin:0.5em auto;">
    <div style="width:1em; height:1.5em; margin:auto; background:lightgray;"></div>
    <div style="width:0; height:0; border-width:1em 1em 0; border-style:solid; border-color:lightgray transparent;"></div>
    </div>
    
    <div class="legend" style="font-style:italic">Fragments</div>
    <div style="text-align:center">
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        Lorem
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        ipsum
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        dolor
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        sit
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:#aaaaaa;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        amet
        </div>
		...
    </div>
    
    <div class="legend" style="font-style:italic">Containers</div>
    <div style="text-align:center">
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em; margin-bottom:1.5em; visibility:hidden;">
        </div>
    </div>
</div>

</html>

Note that as layout engine fills containers with content, there may be content than there is space in containers:

<html>
<div class="figure" style="border:thin solid silver; width:35em; font-size:66%; margin:auto; padding:1em;">
    <div class="legend" style="font-style:italic">Content</div>
    <div class="" style="background:silver">. . . Lorem ipsum dolor sit amet, consectetur . . . </div>
    	
    <div class="down-arrow" style="width:2em;margin:0.5em auto;">
    <div style="width:1em; height:1.5em; margin:auto; background:lightgray;"></div>
    <div style="width:0; height:0; border-width:1em 1em 0; border-style:solid; border-color:lightgray transparent;"></div>
    </div>
    
    <div class="centerbox" style="width:10em;margin:auto;border:1px solid black;padding:0.5em;text-align:center;">
        Layout engine
    </div>
    	
    <div class="down-arrow" style="width:2em;margin:0.5em auto;">
    <div style="width:1em; height:1.5em; margin:auto; background:lightgray;"></div>
    <div style="width:0; height:0; border-width:1em 1em 0; border-style:solid; border-color:lightgray transparent;"></div>
    </div>
    
    <div class="legend" style="font-style:italic">Fragments</div>
    <div style="text-align:center">
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        Lorem
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        ipsum
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        dolor
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        sit
        </div>
    </div>
    
    <div class="legend" style="font-style:italic">Containers</div>
    <div style="text-align:center">
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        </div>
    </div>
</div>
</html>

... and there may be more space than content:

<html>
<div class="figure" style="border:thin solid silver; width:35em; font-size:66%; margin:auto; padding:1em;">
    <div class="legend" style="font-style:italic">Content</div>
    <div class="" style="background:silver">. . . Lorem ipsum dolor sit amet, consectetur . . . </div>
    	
    <div class="down-arrow" style="width:2em;margin:0.5em auto;">
    <div style="width:1em; height:1.5em; margin:auto; background:lightgray;"></div>
    <div style="width:0; height:0; border-width:1em 1em 0; border-style:solid; border-color:lightgray transparent;"></div>
    </div>
    
    <div class="centerbox" style="width:10em;margin:auto;border:1px solid black;padding:0.5em;text-align:center;">
        Layout engine
    </div>
    	
    <div class="down-arrow" style="width:2em;margin:0.5em auto;">
    <div style="width:1em; height:1.5em; margin:auto; background:lightgray;"></div>
    <div style="width:0; height:0; border-width:1em 1em 0; border-style:solid; border-color:lightgray transparent;"></div>
    </div>
    
    <div class="legend" style="font-style:italic">Fragments</div>
    <div style="text-align:center">
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        Lorem
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        ipsum
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        dolor
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        sit
        </div>
        <div class="fragment" style="display:inline-block;margin:0.5em;background:silver;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        amet
        </div>
    </div>
    
    <div class="legend" style="font-style:italic">Containers</div>
    <div style="text-align:center">
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:2em;height:3em;">
        </div>
        <div class="box" style="display:inline-block;margin:0.5em;border:1px dashed black;padding:0.5em;width:3em;height:2em; margin-bottom:1.5em;">
        </div>
    </div>
</div>

</html>


