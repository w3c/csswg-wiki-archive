=== Introduction ===

This page captures use cases for CSS Regions (and exclusions).

==== Flowing content between arbitrary areas ====

The following image illustrates flowing the same content across regions of different widths. As the content is resized, so are the various regions and the content simply flows between the different regions.

{{:spec:css3-regions:simple_single_thread.png?600|}}

<code html>
<!DOCTYPE HTML>
<html>
<head>
    <style type="text/css"> 
        
        /* extract the content of #source into a named flow - 'article' */
        #source{
            flow-into: article;
        }                             
         
        /* render the content from the 'article' named flow into .region */
        .region{
            flow-from: article; 
        }
        
        #region_1, #region_2, #region_3{    
            float:left;   
            background:lightblue;
        }   
        
        #region_1, #region_3{
            width:20%;
            height:600px;
        }     
        
        #region_2{
            width:50%; 
            height:200px;
            margin:0 5%;
        }
        
    </style>
</head>
<body>

    <div id="source">
        <p>
            Lorem ipsum dolor sit amet ...
        </p>       
    </div>  
    
    <div id="region_1" class="region"></div>
    <div id="region_2" class="region"></div>
    <div id="region_3" class="region"></div>

</body>
</html>
</code>

==== Flowing content between areas and overlapping pull quote exclusion ====

{{:spec:css3-regions:exclusions_pullquote.jpg?600|}}

==== Flowing content into arbitrary areas ====

The following image illustrates flowing content into an arbitrarily shaped area (e.g., a heart).

{{:spec:css3-regions:simple_shape.png?600|}}

<code html>
<html>
<head>
    <style type="text/css">

    /* extract the content of #source into a named flow - 'article' */
    #source{
        flow-into: article;
    }                             

    /* render the content from the 'article' named flow into .region */
    .region{
        flow-from: article; 
    }

    #circle, #heart{
        position: absolute;
        width: 40%;
        height: 40%;
    } 

    #circle{
        /* notation from CSS Exclusions and Shapes Module */
        shape-inside: circle(50%, 50%, 30%); 

        left: 0;
    }

    #heart{
        shape-inside: polygon(x1, y1, x2, y2, x3, y3, ... xn, yn);

        right: 0;    
    }  

    /* region-styling to change the color of paragraph text that flows into #heart */
    @region #heart {
        p {
            color: red;
        }
    }

    </style>
</head>
<body>    

    <div id="source">
        <p>
         Lorem ipsum dolor sit amet ...
        </p>       
    </div>  

    <div id="circle" class="region"></div>
    <div id="heart" class="region"></div> 
    
</body> 
</html> 
</code>
==== Flowing content *around* arbitrary areas ====

The following image illustrates the need to be able to flow content around an arbitrarily shaped area.


{{:spec:css3-regions:simple_exclusion.png?600|}}

==== Controlling the interplay between overlapping shapes ====

As the following image shows, it is important to be able to control the interaction between various 'exclusion' areas, whether or not these have a specified shapes (they do in the example, were text flows into circular shapes).

{{:spec:css3-regions:simple_shape-order.png?600|}}

<code html>
<html>
<head>
    <style type="text/css">

    /* extract the content of #source into a named flow - 'article' */
    #source{
        flow-into: article;
    }                             

    /* render the content from the 'article' named flow into .region */
    .region{
        flow-from: article; 
    }

    #circle_1, #circle_2, #circle_3{
        position: absolute;
        width: 40%;
        height: 40%; 
        
        /* notation from CSS Exclusions and Shapes Module */
        shape-inside: circle(50%, 50%, 30%);   
    } 

    #circle_2{
        /* act as exclusion for the text flow from surrounding regions */
        wrap-flow: both;
        
        /* circular exclusion shape on affected elements */
        shape-outside: circle(50%, 50%, 30%);
        
        /* avoid being affected by other regions with lower z-index */
        z-index: 1;   
    }

    /* region-styling to change the color of paragraph text that flows into #circle_2 */
    @region #circle_2 {
        p {
            color: red;
        }
    }

    </style>
</head>
<body>    

    <div id="source">
        <p>
         The text in this element will wrap ...
        </p>       
    </div>  

    <div id="circle_1" class="region"></div>
    <div id="circle_2" class="region"></div> 
    <div id="circle_3" class="region"></div> 
    
</body> 
</html> 
</code>

=== Concrete Use Cases ===

==== Fancy illustration layout ====

{{:spec:css3-regions:advanced_piechart.jpg?600|}}

<code html>
<html>
<head>
    <style type="text/css">

    /* extract the content of #source into a named flow - 'article' */
    #source{
        flow-into: article;
    }                             

    /* render the content from the 'article' named flow into .region */
    .region{
        flow-from: article; 
    }

    #piechart{ 
        position: absolute;
        width: 500px; 
        height: 500px;
        right: 0;
    } 
    
    #slice_1, #slice_2, #slice_3, slice_4{
        position: absolute;
        
        /* prevent text from touching the edges of the slices */ 
        wrap-padding: 10px;
    } 
    
    #slice_1{ 
        /* set the shape of the slice */
        shape-inside: polygon(x1, y1, x2, y2, x3, y3, ... xn, yn);   
        
        /* using SVG for background. shape-inside doesn't affect the box background so background-color won't work */
        background-image: url(green_slice.svg);
        top: -10px;
        left: -10px;
    }
    
    #slice_2{
        shape-inside: polygon(x1, y1, x2, y2, x3, y3, ... xn, yn); 
        
        background-image: url(tan_slice.svg);
        top: 200px;
        left: -20px; 
    } 
    
    #slice_3{
        shape-inside: polygon(x1, y1, x2, y2, x3, y3, ... xn, yn);   

        background-image: url(orange_slice.svg);
        top: 350px;
        bottom: -10px;
    }
    
    #slice_4{
        shape-inside: polygon(x1, y1, x2, y2, x3, y3, ... xn, yn);   

        background-image: url(yellow_slice.svg);
        top: 0;
        right: 0;
    }

    </style>
</head>
<body> 

   <h1>The <em>not so hidden</em> Cost$</h1>

    <div id="source">
        <p>
        Not every meal is going to be ...
        </p>       
    </div> 
    
    <div id="piechart">
        <div id="slice_1" class="region"></div>
        <div id="slice_2" class="region"></div> 
        <div id="slice_3" class="region"></div> 
        <div id="slice_4" class="region"></div>    
    </div> 
    
</body> 
</html> 
</code>

==== Dropcap exclusion ====

{{:spec:css3-regions:simple_dropcap-1.png?600|}}

==== Magazine layouts ====

{{:spec:css3-regions:advanced_panorama.jpg?600|}}
{{:spec:css3-regions:advanced_multi-column-article.jpg?600|}}
{{:spec:css3-regions:simple_multiple_threads.png?600|}}
{{:spec:css3-regions:region-break_headings.jpg?600|}}
